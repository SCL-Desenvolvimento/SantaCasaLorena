<div class="modal fade show d-block" tabindex="-1" style="background: rgba(0,0,0,.5);">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- HEADER -->
      <div class="modal-header">
        <h5 class="modal-title">
          {{ editingItem ? 'Editar' : 'Criar' }}
          {{ activeTab === 'news' ? 'Notícia' : activeTab === 'services' ? 'Serviço' : 'Convênio' }}
        </h5>
        <button type="button" class="btn-close" (click)="close.emit()"></button>
      </div>

      <!-- BODY -->
      <div class="modal-body" *ngIf="form">
        <form [formGroup]="form">

          <!-- NEWS -->
          <ng-container *ngIf="activeTab === 'news'">
            <div class="mb-3">
              <label class="form-label">Título</label>
              <input type="text" class="form-control" formControlName="title">
              <div class="text-danger" *ngIf="form.get('title')?.touched && form.get('title')?.invalid">
                Título obrigatório
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Descrição</label>
              <textarea class="form-control" rows="3" formControlName="description"></textarea>
              <div class="text-danger" *ngIf="form.get('description')?.touched && form.get('description')?.invalid">
                Descrição obrigatória
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Conteúdo</label>
              <textarea class="form-control" rows="6" formControlName="content"></textarea>
              <div class="text-danger" *ngIf="form.get('content')?.touched && form.get('content')?.invalid">
                Conteúdo obrigatório
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Categoria</label>
              <input type="text" class="form-control" formControlName="category">
            </div>

            <div class="mb-3">
              <label class="form-label">URL da Imagem</label>
              <input type="url" class="form-control" formControlName="imageUrl">
              <div class="text-danger" *ngIf="form.get('imageUrl')?.invalid && form.get('imageUrl')?.touched">
                Informe uma URL válida
              </div>
            </div>

            <div class="form-check">
              <input class="form-check-input" type="checkbox" formControlName="isPublished">
              <label class="form-check-label">Publicar notícia</label>
            </div>
          </ng-container>

          <!-- SERVICES -->
          <ng-container *ngIf="activeTab === 'services'">
            <div class="mb-3">
              <label class="form-label">Nome do Serviço</label>
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="mb-3">
              <label class="form-label">Descrição</label>
              <textarea class="form-control" rows="4" formControlName="description"></textarea>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">Categoria</label>
                <input type="text" class="form-control" formControlName="category">
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Ícone</label>
                <input type="text" class="form-control" formControlName="icon">
              </div>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" formControlName="is_active">
              <label class="form-check-label">Serviço ativo</label>
            </div>
          </ng-container>

          <!-- CONVENIOS -->
          <ng-container *ngIf="activeTab === 'convenios'">
            <div class="mb-3">
              <label class="form-label">Nome do Convênio</label>
              <input type="text" class="form-control" formControlName="name">
              <div class="text-danger" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
                Nome é obrigatório
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">URL da Imagem / Logo</label>
              <input type="url" class="form-control" formControlName="imageUrl">
              <div class="text-danger" *ngIf="form.get('imageUrl')?.invalid && form.get('imageUrl')?.touched">
                Informe uma URL válida
              </div>
            </div>
          </ng-container>
        </form>
      </div>

      <!-- FOOTER -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="close.emit()">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="handleSave()" [disabled]="form.invalid">Salvar</button>
      </div>

    </div>
  </div>
</div>
