<div class="contact-new-container">
  <!-- Page Header -->
  <div class="page-header mb-4">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h2 class="page-title mb-1">Adicionar Novo Número</h2>
        <p class="page-subtitle text-muted mb-0">
          Cadastre um novo número de telefone para exibição no site
        </p>
      </div>
      <div class="btn-group">
        <button class="btn btn-outline-secondary"
                (click)="onCancel()">
          <i class="bi bi-arrow-left me-2"></i>
          Cancelar
        </button>
      </div>
    </div>
  </div>

  <!-- Form Card -->
  <div class="card shadow-sm border-0 rounded-3">
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" #contactForm="ngForm">

        <!-- Título e Número -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="title" class="form-label fw-bold">Título *</label>
            <input type="text"
                   class="form-control"
                   id="title"
                   name="title"
                   [(ngModel)]="contact.title"
                   required
                   placeholder="Ex: Telefone Principal, WhatsApp Comercial">
            <div class="form-text">Nome identificador para este número</div>
          </div>
          <div class="col-md-6">
            <label for="phoneNumber" class="form-label fw-bold">Número de Telefone *</label>
            <input type="text"
                   class="form-control"
                   id="phoneNumber"
                   name="phoneNumber"
                   [(ngModel)]="contact.phoneNumber"
                   (input)="formatPhoneNumber($event)"
                   required
                   maxlength="15"
                   placeholder="(11) 99999-9999">
            <div class="form-text">Formato: (DDD) número</div>
          </div>
        </div>

        <!-- Descrição -->
        <div class="mb-3">
          <label for="description" class="form-label fw-bold">Descrição</label>
          <textarea class="form-control"
                    id="description"
                    name="description"
                    [(ngModel)]="contact.description"
                    rows="3"
                    placeholder="Ex: Atendimento ao cliente, Horário comercial..."></textarea>
          <div class="form-text">Descrição opcional sobre a finalidade deste número</div>
        </div>

        <!-- Localização e Categoria -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="pageLocation" class="form-label fw-bold">Localização na Página *</label>
            <select class="form-select"
                    id="pageLocation"
                    name="pageLocation"
                    [(ngModel)]="contact.pageLocation"
                    required>
              <option *ngFor="let location of locations" [value]="location.value">
                {{ location.label }}
              </option>
            </select>
            <div class="form-text">Onde este número será exibido no site</div>
          </div>
          <div class="col-md-6">
            <label for="category" class="form-label fw-bold">Categoria *</label>
            <select class="form-select"
                    id="category"
                    name="category"
                    [(ngModel)]="contact.category"
                    required>
              <option *ngFor="let category of categories" [value]="category.value">
                {{ category.label }}
              </option>
            </select>
            <div class="form-text">Tipo de atendimento deste número</div>
          </div>
        </div>

        <!-- Ordem e Status -->
        <div class="row mb-4">
          <div class="col-md-6">
            <label for="order" class="form-label fw-bold">Ordem de Exibição</label>
            <input type="number"
                   class="form-control"
                   id="order"
                   name="order"
                   [(ngModel)]="contact.order"
                   min="1"
                   max="100">
            <div class="form-text">Números menores aparecem primeiro (1, 2, 3...)</div>
          </div>
          <div class="col-md-6">
            <label class="form-label fw-bold">Status</label>
            <div class="form-check form-switch mt-2">
              <input class="form-check-input"
                     type="checkbox"
                     id="isActive"
                     name="isActive"
                     [(ngModel)]="contact.isActive"
                     style="transform: scale(1.5);">
              <label class="form-check-label fw-normal ms-2" for="isActive">
                {{ contact.isActive ? 'Ativo (visível no site)' : 'Inativo (oculto no site)' }}
              </label>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="d-flex justify-content-end gap-2 pt-3 border-top">
          <button type="button"
                  class="btn btn-outline-secondary"
                  (click)="onCancel()">
            <i class="bi bi-x-circle me-2"></i>
            Cancelar
          </button>
          <button type="submit"
                  class="btn btn-primary"
                  [disabled]="loading || !contactForm.form.valid">
            <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
            <i class="bi bi-check-circle me-2" *ngIf="!loading"></i>
            {{ loading ? 'Salvando...' : 'Salvar Número' }}
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
