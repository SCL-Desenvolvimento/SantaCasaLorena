
<div class="contact-detail-container">
  <!-- Page Header -->
  <div class="page-header mb-4">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h2 class="page-title mb-1">Detalhes do Contato</h2>
        <p class="page-subtitle text-muted mb-0">
          Visualizar informações detalhadas do contato
        </p>
      </div>
      <div class="btn-group">
        <button 
          class="btn btn-outline-secondary"
          (click)="goBack()">
          <i class="bi bi-arrow-left me-2"></i>
          Voltar
        </button>
        <button 
          class="btn btn-danger"
          (click)="deleteContact()"
          *ngIf="contact">
          <i class="bi bi-trash me-2"></i>
          Excluir
        </button>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div class="text-center py-5" *ngIf="loading">
    <app-loading-spinner message="Carregando detalhes do contato..."></app-loading-spinner>
  </div>

  <!-- Contact Details Card -->
  <div class="card shadow-sm border-0 rounded-3" *ngIf="!loading && contact">
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label fw-bold">Nome:</label>
          <p class="form-control-plaintext">{{ contact.name }}</p>
        </div>
        <div class="col-md-6">
          <label class="form-label fw-bold">Email:</label>
          <p class="form-control-plaintext">{{ contact.email }}</p>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label fw-bold">Telefone:</label>
          <p class="form-control-plaintext">{{ contact.phone }}</p>
        </div>
        <div class="col-md-6">
          <label class="form-label fw-bold">Assunto:</label>
          <p class="form-control-plaintext">{{ contact.subject }}</p>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Mensagem:</label>
        <p class="form-control-plaintext message-content">{{ contact.message }}</p>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label fw-bold">Recebido em:</label>
          <p class="form-control-plaintext">{{ formatDate(contact.receivedAt) }}</p>
        </div>
        <div class="col-md-6">
          <label class="form-label fw-bold">Status:</label>
          <p class="form-control-plaintext">
            <span 
              class="badge"
              [class.bg-success]="contact.isRead"
              [class.bg-secondary]="!contact.isRead">
              <i class="bi me-1" 
                 [ngClass]="contact.isRead ? 'bi-check-circle' : 'bi-envelope'"></i>
              {{ contact.isRead ? 'Lido' : 'Não Lido' }}
            </span>
          </p>
        </div>
      </div>
    </div>
    <div class="card-footer text-end" *ngIf="contact && !contact.isRead">
      <button 
        class="btn btn-primary"
        (click)="markAsRead()">
        <i class="bi bi-envelope-open me-2"></i>
        Marcar como Lido
      </button>
    </div>
  </div>

  <!-- Empty State -->
  <div class="text-center py-5" *ngIf="!loading && !contact">
    <div class="empty-state">
      <i class="bi bi-exclamation-circle display-1 text-muted"></i>
      <h5 class="mt-3">Contato não encontrado</h5>
      <p class="text-muted">O contato que você está procurando pode ter sido excluído ou não existe.</p>
      <button 
        class="btn btn-primary"
        (click)="goBack()">
        <i class="bi bi-arrow-left me-2"></i>
        Voltar para a lista
      </button>
    </div>
  </div>
</div>

