<div class="home-page min-vh-100">

  <!-- carrossel -->
  <section class="hero-carousel" #heroCarousel
           (mousedown)="onDragStart($event)"
           (mousemove)="onDragMove($event)"
           (mouseup)="onDragEnd($event)"
           (mouseleave)="onDragEnd($event)"
           (touchstart)="onDragStart($event)"
           (touchmove)="onDragMove($event)"
           (touchend)="onDragEnd($event)">

    <div class="carousel-container"
         [style.transform]="'translateX(' + currentTranslate + '%)'"
         [style.transition]="currentTransition">

      <div class="carousel-slide"
           *ngFor="let slide of heroSlides; let i = index"
           [style.backgroundImage]="'url(' + slide.currentImage + ')'"
           [class.clickable]="!!slide.newsId"
           (click)="onSlideClick(slide)">
      </div>
    </div>

    <!-- setas -->
    <button class="carousel-arrow left" aria-label="Anterior" (click)="prevSlide()">
      <svg viewBox="0 0 24 24" width="22" height="22">
        <path d="M15.5 19l-7-7 7-7" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>

    <button class="carousel-arrow right" aria-label="Próximo" (click)="nextSlide()">
      <svg viewBox="0 0 24 24" width="22" height="22">
        <path d="M8.5 5l7 7-7 7" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>

    <!-- indicadores -->
    <div class="carousel-indicators">
      <span *ngFor="let slide of heroSlides; let i = index"
            class="indicator"
            [class.active]="i === currentSlide"
            (click)="goToSlide(i)">
      </span>
    </div>
  </section>

  <!-- Services Section - COM FUNDO AZUL E TEXTO BRANCO -->
  <section class="py-5 services-section">
    <div class="container">
      <!-- Título e descrição centralizados -->
      <div class="text-center mb-5">
        <h2 class="fw-bold">Nossos serviços</h2>
        <p class="text-muted">Oferecemos uma ampla gama de serviços médicos com qualidade e dedicação.</p>
      </div>

      <div class="row g-4">
        <div *ngFor="let service of heroServices" class="col-12 col-sm-6 col-lg-3">
          <!-- Usa routerLink para rotas internas -->
          <a [routerLink]="service.link" class="text-decoration-none">
            <div class="card h-100 shadow-lg border-0 rounded-4 service-card">
              <div class="card-body text-center p-4">
                <div class="service-icon-wrapper mx-auto mb-3">
                  <img [src]="service.image"
                       [alt]="service.title"
                       class="img-fluid rounded-3"
                       style="width: 130px; height: 130px; object-fit: cover;" />
                </div>
                <h5 class="card-title fw-semibold mb-2">{{ service.title }}</h5>
                <p class="card-text text-muted small">{{ service.description }}</p>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-5 bg-white">
    <div class="container">
      <div class="row row-cols-2 row-cols-md-4 g-4 text-center">
        <div *ngFor="let stat of stats" class="col">
          <div class="stat-icon mx-auto mb-3">
            <i [class]="'bi ' + stat.icon"></i>
          </div>
          <h3 class="fw-bold">{{ stat.number }}</h3>
          <p class="text-muted">{{ stat.label }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Convênios - COM FUNDO CLARO COMO ORIGINALMENTE -->
  <section class="py-5 convenios-section text-center">
    <div class="container">
      <h2 class="fw-bold mb-3">{{ convenios.title }}</h2>
      <p class="text-muted mb-4 mx-auto" style="max-width:700px;">{{ convenios.description }}</p>

      <div class="row row-cols-2 row-cols-md-3 row-cols-lg-6 g-3">
        <div *ngFor="let conv of convenios.items" class="col">
          <div class="bg-white p-3 rounded shadow-sm">
            <div class="bg-light rounded d-flex align-items-center justify-content-center" style="height: 100%;">
              <img *ngIf="conv.imageUrl"
                   [src]="conv.imageUrl"
                   [alt]="conv.name"
                   class="img-fluid"
                   style="max-height: 100%; max-width: 100%; object-fit: contain;" />

              <span *ngIf="!conv.imageUrl" class="text-muted small">
                {{ conv.name }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- News -->
  <section class="py-5 bg-white">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold mb-0">{{ newsSection.title }}</h2>
        <a routerLink="/noticias" class="text-primary fw-semibold text-decoration-none">
          Ver todas as notícias <i class="bi bi-arrow-right"></i>
        </a>
      </div>

      <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-4" *ngFor="let item of news">
          <div class="card h-100 shadow-sm border-0 news-card">
            <img *ngIf="item.imageUrl" [src]="item.imageUrl" [alt]="item.title" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">{{ item.title }}</h5>
              <small *ngIf="item.category" class="text-primary fw-bold">{{ item.category }}</small>
              <p class="card-text mt-2">
                {{ item.description || (item.content.substring(0, 150) + '...') }}
              </p>
              <a [routerLink]="['/noticia', item.id]" class="fw-semibold text-decoration-none">
                Continue lendo <i class="bi bi-arrow-right"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-5 text-white text-center" [style.background]="cta.bgGradient">
    <div class="container">
      <h2 class="fw-bold mb-3">{{ cta.title }}</h2>
      <p class="mb-4 mx-auto" style="max-width:700px;">{{ cta.description }}</p>
      <a [routerLink]="['/manual-do-paciente-visitante']" class="btn btn-light btn-lg" style="color: #22BCEE;">
        {{ cta.buttonLabel }}
      </a>
    </div>
  </section>

</div>
